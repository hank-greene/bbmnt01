
Make sure to run setcap, see last command in this file.


 > download from tomcat home pages
 > SHA512 check passed
 >
 > unzip ... tomcat-native.tar.gz

 >  sudo apt --fix-broken install
 >  sudo apt install libapr1 libapr1-dev
 >  sudo apt install libssl-dev
 .
 .
 .   may have missed a few steps
 .
 .
 > ./configure --with-apr=/usr/bin/apr-1-config --with-java-home=/usr/lib/jvm/java-1.11.0-openjdk-amd64


 > make && make install

.
.
.
.

----------------------------------------------------------------------
Libraries have been installed in:
   /usr/local/apr/lib

If you ever happen to want to link against installed libraries
in a given directory, LIBDIR, you must either use libtool, and
specify the full pathname of the library, or use the '-LLIBDIR'
flag during linking and do at least one of the following:
   - add LIBDIR to the 'LD_LIBRARY_PATH' environment variable
     during execution
   - add LIBDIR to the 'LD_RUN_PATH' environment variable
     during linking
   - use the '-Wl,-rpath -Wl,LIBDIR' linker flag
   - have your system administrator add LIBDIR to '/etc/ld.so.conf'

See any operating system documentation about shared libraries for
more information, such as the ld(1) and ld.so(8) manual pages.
----------------------------------------------------------------------


root@lnn01:/etc/systemd/system# cat tomcat.service
[Unit]
Description=Tomcat
After=network.target

[Service]
Type=forking

User=tomcat
Group=tomcat

Environment="LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/usr/local/apr/lib"   <------- Add this line, remove "barckets">
Environment="JAVA_HOME=/usr/lib/jvm/java-1.11.0-openjdk-amd64"
Environment="JAVA_OPTS=-Djava.security.egd=file:///dev/urandom"
Environment="CATALINA_BASE=/opt/tomcat"
Environment="CATALINA_HOME=/opt/tomcat"
Environment="CATALINA_PID=/opt/tomcat/temp/tomcat.pid"
Environment="CATALINA_OPTS=-Xms512M -Xmx1024M -server -XX:+UseParallelGC"

ExecStart=/opt/tomcat/bin/startup.sh
ExecStop=/opt/tomcat/bin/shutdown.sh

RestartSec=10
Restart=always

[Install]
WantedBy=multi-user.target


 sudo setcap cap_net_bind_service+ep /usr/lib/jvm/java-1.11.0-openjdk-amd64/bin/java